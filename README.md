# Интернет-магазин на React с TypeScript

Тестовое задание - интернет-магазин, разработанный с использованием React, TypeScript, Vite и SCSS модулей.

## Реализованные требования

### Основные функции
- ✅ Загрузка и отображение товаров с API с использованием бесконечной прокрутки
- ✅ Добавление товаров в корзину
- ✅ Изменение количества товаров в корзине
- ✅ Удаление товаров из корзины
- ✅ Страница с отзывами, загружаемыми с API, с безопасным отображением HTML-контента
- ✅ Форма для оформления заказа с валидацией телефона
- ✅ Адаптивный дизайн для мобильных устройств

### Технические детали
- ✅ Использование TypeScript для типизации данных
- ✅ Модульный SCSS для стилизации компонентов
- ✅ Работа с REST API через fetch
- ✅ Контекст для управления состоянием корзины
- ✅ Корректная обработка ошибок API и отображение загрузки
- ✅ Корректная настройка CORS через прокси-сервер в Vite
- ✅ Адаптивный дизайн с оптимизацией для мобильных устройств

### Дополнительные улучшения
- ✅ Анимации для улучшения UX
- ✅ Бесконечная прокрутка товаров с оптимизацией загрузки
- ✅ Сохранение корзины между сессиями (localStorage)
- ✅ Безопасное отображение HTML-контента в отзывах (DOMPurify)
- ✅ Улучшенная валидация телефона с форматированием
- ✅ Оптимизация для мобильных устройств с иконками вместо текста

## Как запустить проект

### Требования
- Node.js 18.0 или выше
- npm или yarn

### Шаги для запуска

1. Клонировать репозиторий:
```bash
git clone <url-репозитория>
cd tz-complex
```

2. Установить зависимости:
```bash
npm install
# или
yarn install
```

3. Запустить проект в режиме разработки:
```bash
npm run dev
# или
yarn dev
```

4. Открыть проект в браузере:
```
http://localhost:5173
```

### Сборка для продакшн
```bash
npm run build
# или
yarn build
```

### Конфигурация проекта

В проекте настроен прокси для решения проблем с CORS. Конфигурация находится в файле `vite.config.ts`:

```js
proxy: {
  '/api': {
    target: 'http://o-complex.com:1337',
    changeOrigin: true,
    rewrite: (path) => path.replace(/^\/api/, ''),
    secure: false,
  }
}
```

## API и структура данных

Проект взаимодействует с внешним API через настроенный прокси:

### Товары
- `GET /api/products?page={number}` - получение списка товаров с пагинацией
  - Ответ: `{ items: IProduct[], total: number }`

### Отзывы
- `GET /api/reviews` - получение списка отзывов
  - Ответ: `IReview[]`

### Типы данных
```typescript
// Товар
interface IProduct {
  id: number;
  title: string;
  description: string;
  price: number;
  image_url: string;
}

// Отзыв
interface IReview {
  id: number;
  text: string; // содержит HTML
}

// Элемент корзины
interface ICartItem {
  id: number;
  quantity: number;
}
```

## Структура проекта

```
src/
├── assets/          # Статические ресурсы (изображения, SVG)
├── components/      # React компоненты
│   ├── Cart/        # Компоненты корзины
│   ├── Header/      # Компонент шапки
│   ├── Product/     # Компонент товара
│   ├── ProductList/ # Компонент списка товаров
│   └── Review/      # Компонент отзывов
├── context/         # React контексты
├── hooks/           # Пользовательские хуки
├── pages/           # Страницы приложения
├── services/        # Сервисы для работы с API
├── types/           # TypeScript типы
├── utils/           # Утилиты и вспомогательные функции
├── App.tsx          # Главный компонент приложения
├── main.tsx         # Точка входа в приложение
└── vars.scss        # Глобальные SCSS переменные
```

## Основные особенности реализации

- **Бесконечная прокрутка**: реализована с использованием Intersection Observer API для эффективной загрузки товаров
- **Корзина**: использует React Context для глобального доступа и localStorage для сохранения между сессиями
- **Валидация телефона**: форматирование ввода в стиле +7 (XXX) XXX-XX-XX с проверкой полноты номера
- **Адаптивность**: специальная версия для мобильных устройств с оптимизированными элементами интерфейса
- **Отображение HTML**: безопасное отображение HTML-контента из API с очисткой через DOMPurify

## Используемые технологии

- React 19
- TypeScript 5.8
- Vite 6.3
- SCSS (Sass)
- React Router 7.6
- DOMPurify для безопасной обработки HTML
- SVGR для работы с SVG как React компонентами
- Node polyfills для совместимости
